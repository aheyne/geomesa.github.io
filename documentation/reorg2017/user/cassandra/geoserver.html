

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using the Cassandra Data Store in GeoServer &mdash; GeoMesa 1.3.0-m3-SNAPSHOT Manuals</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
  

  

  
    <link rel="top" title="GeoMesa 1.3.0-m3-SNAPSHOT Manuals" href="../../index.html"/>
        <link rel="up" title="Cassandra Data Store" href="index.html"/>
        <link rel="next" title="Implementation Details" href="implementation_details.html"/>
        <link rel="prev" title="Cassandra Command Line Tools" href="commandline_tools.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          

          
          </a>

          
            
            
              <div class="version">
                1.3.0-m3-SNAPSHOT
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation_and_configuration.html">Installation and Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../datastores.html">GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bigtable/index.html">Bigtable Data Store</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Cassandra Data Store</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="usage.html">Using the Cassandra DataStore Programmatically</a></li>
<li class="toctree-l3"><a class="reference internal" href="commandline_tools.html">Cassandra Command Line Tools</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Using the Cassandra Data Store in GeoServer</a></li>
<li class="toctree-l3"><a class="reference internal" href="implementation_details.html">Implementation Details</a></li>
<li class="toctree-l3"><a class="reference internal" href="contribute.html">How you can contribute</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../blobstore.html">GeoMesa Blob Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">GeoMesa GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../convert.html">GeoMesa Convert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analytics/index.html">Analytics with GeoMesa</a></li>
<li class="toctree-l2"><a class="reference internal" href="../apis/index.html">Other APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">GeoMesa</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">User Manual</a> &raquo;</li>
      
          <li><a href="index.html">Cassandra Data Store</a> &raquo;</li>
      
    <li>Using the Cassandra Data Store in GeoServer</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/user/cassandra/geoserver.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-the-cassandra-data-store-in-geoserver">
<span id="create-cassandra-ds-geoserver"></span><h1>Using the Cassandra Data Store in GeoServer<a class="headerlink" href="#using-the-cassandra-data-store-in-geoserver" title="Permalink to this headline">Â¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">See <a class="reference internal" href="../geoserver.html"><span class="doc">GeoMesa GeoServer Plugins</span></a> for general information for working with GeoMesa in Geoserver.</p>
</div>
<p>On the &#8220;Add Store&#8221; page, select &#8220;Cassandra (GeoMesa)&#8221; as shown below.</p>
<img alt="../../_images/CassandraNewDataSource.png" src="../../_images/CassandraNewDataSource.png" />
<p>In the following page, enter the name and description of the data store, the contact point
(HOST:PORT), the keyspace and the catalog. Click &#8220;Save&#8221;, and GeoServer will search Cassandra for any
GeoMesa-managed feature types in that keyspace.</p>
<img alt="../../_images/CassandraDSParams.png" src="../../_images/CassandraDSParams.png" />
<p>Note that when you create the data store, you&#8217;ll be asked
to specify a work space name. Remember this name because you&#8217;ll need to use it when querying the
data store in GeoServer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Note that the &#8220;Layer Preview&#8221; within GeoServer generally will not work with a Cassandra
data store, because the Cassandra data store expects queries to have both a <code class="docutils literal"><span class="pre">bbox</span></code> and
date <code class="docutils literal"><span class="pre">between</span></code> components, but the layer previews do not provide these.</p>
</div>
<p>Once you have a Cassandra layer set up in GeoServer you can try some queries. One way to test queries against the
GeoServer layer is to submit HTTP requests for the WMS and WFS services. For example, assuming
you have ingested the <code class="docutils literal"><span class="pre">example.csv</span></code> dataset as described above and set it up as a layer in GeoServer, this request should return
a PNG image with a single dot:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:8080/geoserver/wms?styles=&amp;bbox=-180,-90,180,90&amp;layers=myworkspace:example_csv&amp;cql_filter=bbox(geom, -101, 22.0, -100.0, 24.0, &#39;EPSG:4326&#39;) and lastseen between 2015-05-05T00:00:00.000Z and 2015-05-10T00:00:00.000Z&amp;version=1.3&amp;service=WMS&amp;width=100&amp;request=GetMap&amp;height=100&amp;format=image/png&amp;crs=EPSG:4326
</pre></div>
</div>
<p>and this request should return a JSON dataset with a single feature:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>http://localhost:8080/geoserver/wfs?service=wfs&amp;request=GetFeature&amp;cql_filter=bbox(geom, -101, 22.0, -100.0, 24.0, &#39;EPSG:4326&#39;) and lastseen between 2015-05-05T00:00:00.000Z and 2015-05-10T00:00:00.000Z&amp;outputFormat=application/json&amp;typeNames=myworkspace:example_csv
</pre></div>
</div>
<p>Note that you should replace <code class="docutils literal"><span class="pre">myworkspace</span></code> in these queries with the name of the work space you&#8217;re using in GeoServer.
Also remember that all queries to a Cassandra layer must include both a <code class="docutils literal"><span class="pre">bbox</span></code> component and a date/time <code class="docutils literal"><span class="pre">between</span></code> component
as part of the CQL filter.</p>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="implementation_details.html" class="btn btn-neutral float-right" title="Implementation Details" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="commandline_tools.html" class="btn btn-neutral" title="Cassandra Command Line Tools" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2016 Commonwealth Computer Research, Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.3.0-m3-SNAPSHOT',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>