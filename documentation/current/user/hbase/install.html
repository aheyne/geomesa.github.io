

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installing GeoMesa HBase &mdash; GeoMesa 1.3.2-SNAPSHOT Manuals</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/sphinx_tabs/tabs.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/sphinx_tabs/semantic-ui-2.2.7/segment.min.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/sphinx_tabs/semantic-ui-2.2.7/menu.min.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/sphinx_tabs/semantic-ui-2.2.7/tab.min.css" type="text/css" />
  

  
    <link rel="top" title="GeoMesa 1.3.2-SNAPSHOT Manuals" href="../../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          

          
          </a>

          
            
            
              <div class="version">
                1.3.2-SNAPSHOT
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">GeoMesa</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
    <li>Installing GeoMesa HBase</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/user/hbase/install.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing-geomesa-hbase">
<h1>Installing GeoMesa HBase<a class="headerlink" href="#installing-geomesa-hbase" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-from-the-binary-distribution">
<h2>Installing from the Binary Distribution<a class="headerlink" href="#installing-from-the-binary-distribution" title="Permalink to this headline">¶</a></h2>
<p>GeoMesa HBase artifacts are available for download or can be built from source.
The easiest way to get started is to download the most recent binary version (<tt class="docutils literal"><span class="pre">$VERSION</span></tt> = 1.3.2-SNAPSHOT)
and untar it somewhere convenient:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># download and unpackage the most recent distribution</span>
<span class="nv">$ </span>wget http://repo.locationtech.org/content/repositories/geomesa-releases/org/locationtech/geomesa/geomesa-hbase-dist_2.11/<span class="nv">$VERSION</span>/geomesa-hbase-dist_2.11-<span class="nv">$VERSION</span>-bin.tar.gz
<span class="nv">$ </span>tar xvf geomesa-hbase-dist_2.11-<span class="nv">$VERSION</span>-bin.tar.gz
<span class="nv">$ </span><span class="nb">cd </span>geomesa-hbase-dist_2.11-<span class="nv">$VERSION</span>
<span class="nv">$ </span>ls
bin/  conf/  docs/  examples/  lib/  LICENSE.txt  logs/
</pre></div>
</div>
</div>
<div class="section" id="building-from-source">
<span id="hbase-install-source"></span><h2>Building from Source<a class="headerlink" href="#building-from-source" title="Permalink to this headline">¶</a></h2>
<p>GeoMesa HBase may also be built from source. For more information refer to <a class="reference internal" href="../../developer/introduction.html#building-from-source"><em>Building from Source</em></a>
in the developer manual, or to the <tt class="docutils literal"><span class="pre">README.md</span></tt> file in the the source distribution.
The remainder of the instructions in this chapter assume the use of the binary GeoMesa HBase
distribution. If you have built from source, the distribution is created in the <tt class="docutils literal"><span class="pre">target</span></tt> directory of
<tt class="docutils literal"><span class="pre">geomesa-hbase/geomesa-hbase-dist</span></tt>.</p>
<p>More information about developing with GeoMesa may be found in the <a class="reference internal" href="../../developer/index.html"><em>Developer Manual</em></a>.</p>
</div>
<div class="section" id="setting-up-the-hbase-command-line-tools">
<span id="setting-up-hbase-commandline"></span><h2>Setting up the HBase Command Line Tools<a class="headerlink" href="#setting-up-the-hbase-command-line-tools" title="Permalink to this headline">¶</a></h2>
<p>GeoMesa HBase comes with a set of command line tools for managing HBase features located in
<tt class="docutils literal"><span class="pre">geomesa-hbase_2.11-$VERSION/bin/</span></tt> of the binary distribution.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can configure environment variables and classpath settings in <tt class="docutils literal"><span class="pre">geomesa-hbase_2.11-$VERSION/conf/geomesa-env.sh</span></tt>.</p>
</div>
<p>In the <tt class="docutils literal"><span class="pre">geomesa-hbase_2.11-$VERSION</span></tt> directory, run <tt class="docutils literal"><span class="pre">bin/geomesa-hbase</span> <span class="pre">configure</span></tt> to set up the tools.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>bin/geomesa-hbase configure
Using <span class="nv">GEOMESA_HBASE_HOME</span> <span class="o">=</span> /path/to/geomesa-hbase_2.11-1.3.0
Do you want to reset this? Y<span class="se">\n</span> y
Using GEOMESA_HBASE_HOME as <span class="nb">set</span>: /path/to/geomesa-hbase_2.11-1.3.0
Is this intentional? Y<span class="se">\n</span> y
To persist the configuration please edit conf/geomesa-env.sh or update your bashrc file to include:
<span class="nb">export </span><span class="nv">GEOMESA_HBASE_HOME</span><span class="o">=</span>/path/to/geomesa-hbase_2.11-1.3.0
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="k">${</span><span class="nv">GEOMESA_HBASE_HOME</span><span class="k">}</span>/bin:<span class="nv">$PATH</span>
</pre></div>
</div>
<p>Update and re-source your <tt class="docutils literal"><span class="pre">~/.bashrc</span></tt> file to include the <tt class="docutils literal"><span class="pre">$GEOMESA_HBASE_HOME</span></tt> and <tt class="docutils literal"><span class="pre">$PATH</span></tt> updates.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">geomesa-hbase</span></tt> will read the <tt class="docutils literal"><span class="pre">$HBASE_HOME</span></tt> and <tt class="docutils literal"><span class="pre">$HADOOP_HOME</span></tt> environment variables to load the
appropriate JAR files for Hadoop and HBase. In addition, <tt class="docutils literal"><span class="pre">geomesa-hbase</span></tt> will pull any
additional entries from the <tt class="docutils literal"><span class="pre">$GEOMESA_EXTRA_CLASSPATHS</span></tt> environment variable.
Use the <tt class="docutils literal"><span class="pre">geomesa</span> <span class="pre">classpath</span></tt> command in order to see what JARs are being used.</p>
</div>
<p>Due to licensing restrictions, dependencies for shape file support must be separately installed.
Do this with the following commands:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>bin/install-jai.sh
<span class="nv">$ </span>bin/install-jline.sh
</pre></div>
</div>
<p>Run <tt class="docutils literal"><span class="pre">geomesa-hbase</span></tt> without arguments to confirm that the tools work.</p>
<div class="code highlight-python"><div class="highlight"><pre>$ bin/geomesa-hbase
Using GEOMESA_HBASE_HOME = /path/to/geomesa-hbase_2.11-1.3.0
INFO  Usage: geomesa-hbase [command] [command options]
  Commands:
  ...
</pre></div>
</div>
</div>
<div class="section" id="installing-geomesa-hbase-in-geoserver">
<span id="install-hbase-geoserver"></span><h2>Installing GeoMesa HBase in GeoServer<a class="headerlink" href="#installing-geomesa-hbase-in-geoserver" title="Permalink to this headline">¶</a></h2>
<p>The HBase GeoServer plugin is bundled by default in a GeoMesa binary distribution. To install, extract
<tt class="docutils literal"><span class="pre">$GEOMESA_HBASE_HOME/dist/gs-plugins/geomesa-hbase-gs-plugin_2.11-$VERSION-install.tar.gz</span></tt> into GeoServer&#8217;s
<tt class="docutils literal"><span class="pre">WEB-INF/lib</span></tt> directory. Note that this plugin contains a shaded JAR with HBase 1.2.3
bundled. If you require a different version, modify the <tt class="docutils literal"><span class="pre">pom.xml</span></tt> and build the GeoMesa HBase plugin project from
scratch with Maven.</p>
<p>This distribution does not include the Hadoop or Zookeeper JARs; the following JARs
should be copied from the <tt class="docutils literal"><span class="pre">lib</span></tt> directory of your HBase or Hadoop installations into
GeoServer&#8217;s <tt class="docutils literal"><span class="pre">WEB-INF/lib</span></tt> directory:</p>
<blockquote>
<div><ul class="simple">
<li>hadoop-annotations-2.7.3.jar</li>
<li>hadoop-auth-2.7.3.jar</li>
<li>hadoop-common-2.7.3.jar</li>
<li>hadoop-mapreduce-client-core-2.7.3.jar</li>
<li>hadoop-yarn-api-2.7.3.jar</li>
<li>hadoop-yarn-common-2.7.3.jar</li>
<li>zookeeper-3.4.9.jar</li>
<li>commons-configuration-1.6.jar</li>
</ul>
</div></blockquote>
<p>(Note the versions may vary depending on your installation.)</p>
<p>You can use the bundled <tt class="docutils literal"><span class="pre">$GEOMESA_HBASE_HOME/bin/install-hadoop.sh</span></tt> script to install these JARs.</p>
<p>The HBase data store requires the configuration file <tt class="docutils literal"><span class="pre">hbase-site.xml</span></tt> to be on the classpath. This can
be accomplished by placing the file in <tt class="docutils literal"><span class="pre">geoserver/WEB-INF/classes</span></tt> (you should make the directory if it
doesn&#8217;t exist).</p>
<p>Restart GeoServer after the JARs are installed.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2017 Commonwealth Computer Research, Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.3.2-SNAPSHOT',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript" src="../../_static/sphinx_tabs/tabs.js"></script>
      <script type="text/javascript" src="../../_static/sphinx_tabs/semantic-ui-2.2.7/tab.min.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>