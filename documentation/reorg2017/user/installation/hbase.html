

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.5. Installing GeoMesa HBase &mdash; GeoMesa 1.3.0-m3-SNAPSHOT Manuals</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme_custom.css" type="text/css" />
  

  

  
    <link rel="top" title="GeoMesa 1.3.0-m3-SNAPSHOT Manuals" href="../../index.html"/>
        <link rel="up" title="4. Installation and Configuration" href="../installation_and_configuration.html"/>
        <link rel="next" title="4.6. Installing GeoMesa Bigtable" href="bigtable.html"/>
        <link rel="prev" title="4.4. Installing GeoMesa Kafka" href="kafka.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> GeoMesa
          

          
          </a>

          
            
            
              <div class="version">
                1.3.0-m3-SNAPSHOT
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html">2. Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">3. Getting Started</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../installation_and_configuration.html">4. Installation and Configuration</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="general.html">4.1. General Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="versions.html">4.2. Versions and Downloads</a></li>
<li class="toctree-l3"><a class="reference internal" href="accumulo.html">4.3. Installing GeoMesa Accumulo</a></li>
<li class="toctree-l3"><a class="reference internal" href="kafka.html">4.4. Installing GeoMesa Kafka</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">4.5. Installing GeoMesa HBase</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-from-the-binary-distribution">4.5.1. Installing from the Binary Distribution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-from-source">4.5.2. Building from Source</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-the-hbase-command-line-tools">4.5.3. Setting up the HBase Command Line Tools</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-geomesa-hbase-in-geoserver">4.5.4. Installing GeoMesa HBase in GeoServer</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="bigtable.html">4.6. Installing GeoMesa Bigtable</a></li>
<li class="toctree-l3"><a class="reference internal" href="cassandra.html">4.7. Installing GeoMesa Cassandra</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../datastores.html">5. GeoMesa Data Stores</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accumulo/index.html">6. Accumulo Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kafka/index.html">7. Kafka Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hbase/index.html">8. HBase Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bigtable/index.html">9. Bigtable Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cassandra/index.html">10. Cassandra Data Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geoserver.html">11. GeoMesa GeoServer Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blobstore.html">12. GeoMesa Blob Store</a></li>
<li class="toctree-l2"><a class="reference internal" href="../convert.html">13. GeoMesa Convert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geojson.html">14. GeoMesa GeoJSON</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html">15. GeoMesa Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../native_api.html">16. GeoMesa Native API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../process.html">17. GeoMesa Processes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spark.html">18. GeoMesa Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stream.html">19. GeoMesa Stream Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../web_data.html">20. GeoMesa Web Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">GeoMesa</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">User Manual</a> &raquo;</li>
      
          <li><a href="../installation_and_configuration.html">4. Installation and Configuration</a> &raquo;</li>
      
    <li>4.5. Installing GeoMesa HBase</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/user/installation/hbase.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing-geomesa-hbase">
<h1>4.5. Installing GeoMesa HBase<a class="headerlink" href="#installing-geomesa-hbase" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installing-from-the-binary-distribution">
<h2>4.5.1. Installing from the Binary Distribution<a class="headerlink" href="#installing-from-the-binary-distribution" title="Permalink to this headline">¶</a></h2>
<p>GeoMesa HBase artifacts are available for download or can be built from source.
The easiest way to get started is to download the most recent binary version (<code class="docutils literal"><span class="pre">$VERSION</span></code> = 1.3.0-m3-SNAPSHOT)
and untar it somewhere convenient:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1"># download and unpackage the most recent distribution</span>
$ wget http://repo.locationtech.org/content/repositories/geomesa-releases/org/locationtech/geomesa/geomesa-hbase-dist_2.11/<span class="nv">$VERSION</span>/geomesa-hbase-dist_2.11-<span class="nv">$VERSION</span>-bin.tar.gz
$ tar xvf geomesa-hbase-dist_2.11-<span class="nv">$VERSION</span>-bin.tar.gz
$ <span class="nb">cd</span> geomesa-hbase-dist_2.11-<span class="nv">$VERSION</span>
$ ls
bin/  conf/  docs/  examples/  lib/  LICENSE.txt  logs/
</pre></div>
</div>
</div>
<div class="section" id="building-from-source">
<span id="hbase-install-source"></span><h2>4.5.2. Building from Source<a class="headerlink" href="#building-from-source" title="Permalink to this headline">¶</a></h2>
<p>GeoMesa HBase may also be built from source. For more information refer to <a class="reference internal" href="../../developer/introduction.html#building-from-source"><span class="std std-ref">Building from Source</span></a>
in the <a class="reference internal" href="../../developer/index.html"><span class="doc">Developer Manual</span></a>, or to the <code class="docutils literal"><span class="pre">README.md</span></code> file in the the source distribution.
The remainder of the instructions in this chapter assume the use of the binary GeoMesa HBase
distribution. If you have built from source, the distribution is created in the <code class="docutils literal"><span class="pre">target</span></code> directory of
<code class="docutils literal"><span class="pre">geomesa-hbase/geomesa-hbase-dist</span></code>.</p>
<p>More information about developing with GeoMesa may be found in the <a class="reference internal" href="../../developer/index.html"><span class="doc">Developer Manual</span></a>.</p>
</div>
<div class="section" id="setting-up-the-hbase-command-line-tools">
<span id="setting-up-hbase-commandline"></span><h2>4.5.3. Setting up the HBase Command Line Tools<a class="headerlink" href="#setting-up-the-hbase-command-line-tools" title="Permalink to this headline">¶</a></h2>
<p>GeoMesa HBase comes with a set of command line tools for managing HBase features located in
<code class="docutils literal"><span class="pre">geomesa-hbase_2.11-$VERSION/bin/</span></code> of the binary distribution.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can configure environment variables and classpath settings in <code class="docutils literal"><span class="pre">geomesa-hbase_2.11-$VERSION/conf/geomesa-env.sh</span></code>.</p>
</div>
<p>In the <code class="docutils literal"><span class="pre">geomesa-hbase_2.11-$VERSION</span></code> directory, run <code class="docutils literal"><span class="pre">bin/geomesa-hbase</span> <span class="pre">configure</span></code> to set up the tools.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ bin/geomesa-hbase configure
Using <span class="nv">GEOMESA_HBASE_HOME</span> <span class="o">=</span> /path/to/geomesa-hbase_2.11-1.3.0-m3-SNAPSHOT
Do you want to reset this? Y<span class="se">\n</span> y
Using GEOMESA_HBASE_HOME as set: /path/to/geomesa-hbase_2.11-1.3.0-m3-SNAPSHOT
Is this intentional? Y<span class="se">\n</span> y
To persist the configuration please edit conf/geomesa-env.sh or update your bashrc file to include:
<span class="nb">export</span> <span class="nv">GEOMESA_HBASE_HOME</span><span class="o">=</span>/path/to/geomesa-hbase_2.11-1.3.0-m3-SNAPSHOT
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="si">${</span><span class="nv">GEOMESA_HBASE_HOME</span><span class="si">}</span>/bin:<span class="nv">$PATH</span>
</pre></div>
</div>
<p>Update and re-source your <code class="docutils literal"><span class="pre">~/.bashrc</span></code> file to include the <code class="docutils literal"><span class="pre">$GEOMESA_HBASE_HOME</span></code> and <code class="docutils literal"><span class="pre">$PATH</span></code> updates.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal"><span class="pre">geomesa-hbase</span></code> will read the <code class="docutils literal"><span class="pre">$HBASE_HOME</span></code> and <code class="docutils literal"><span class="pre">$HADOOP_HOME</span></code> environment variables to load the
appropriate JAR files for Hadoop and HBase. In addition, <code class="docutils literal"><span class="pre">geomesa-hbase</span></code> will pull any
additional jars from the <code class="docutils literal"><span class="pre">$GEOMESA_EXTRA_CLASSPATHS</span></code> environment variable into the class path.
Use the <code class="docutils literal"><span class="pre">geomesa</span> <span class="pre">classpath</span></code> command in order to see what JARs are being used.</p>
</div>
<p>Due to licensing restrictions, dependencies for shape file support and raster
ingest must be separately installed. Do this with the following commands:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ bin/install-jai.sh
$ bin/install-jline.sh
</pre></div>
</div>
<p>Run <code class="docutils literal"><span class="pre">geomesa-hbase</span></code> without arguments to confirm that the tools work.</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span>$ bin/geomesa-hbase
Using GEOMESA_HBASE_HOME = /path/to/geomesa-hbase_2.11-1.3.0-m3-SNAPSHOT
INFO  Usage: geomesa-hbase [command] [command options]
  Commands:
    convert            Convert files using GeoMesa&#39;s internal converter framework
    create-schema      Create a GeoMesa feature type
    delete-catalog     Delete a GeoMesa catalog completely (and all features in it)
    delete-features    Delete features from a table in GeoMesa. Does not delete any tables or schema information.
    describe-schema    Describe the attributes of a given GeoMesa feature type
    env                Examine the current GeoMesa environment
    explain            Explain how a GeoMesa query will be executed
    export             Export features from a GeoMesa data store
    export-bin         Export features from a GeoMesa data store in a binary format
    gen-avro-schema    Generate an Avro schema from a SimpleFeatureType
    get-sft-config     Get the SimpleFeatureType of a feature
    get-type-names     List GeoMesa feature types for a given catalog
    help               Show help
    ingest             Ingest/convert various file formats into GeoMesa
    keywords           Add/Remove/List keywords on an existing schema
    remove-schema      Remove a schema and associated features from a GeoMesa catalog
    stats-analyze      Analyze statistics on a GeoMesa feature type
    stats-bounds       View or calculate bounds on attributes in a GeoMesa feature type
    stats-count        Estimate or calculate feature counts in a GeoMesa feature type
    stats-histogram    View or calculate counts of attribute in a GeoMesa feature type, grouped by sorted values
    stats-top-k        Enumerate the most frequent values in a GeoMesa feature type
    version            Display the GeoMesa version installed locally
    version-remote     Display the GeoMesa version installed on a cluster
</pre></div>
</div>
</div>
<div class="section" id="installing-geomesa-hbase-in-geoserver">
<span id="install-hbase-geoserver"></span><h2>4.5.4. Installing GeoMesa HBase in GeoServer<a class="headerlink" href="#installing-geomesa-hbase-in-geoserver" title="Permalink to this headline">¶</a></h2>
<p>The HBase GeoServer plugin is not bundled by default in a GeoMesa binary distribution
and should be built from source. Download the source distribution (see
<a class="reference internal" href="../../developer/introduction.html#building-from-source"><span class="std std-ref">Building from Source</span></a>), go to the <code class="docutils literal"><span class="pre">geomesa-hbase/geomesa-hbase-gs-plugin</span></code>
directory, and build the module using the <code class="docutils literal"><span class="pre">hbase</span></code> Maven profile:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ mvn clean install -Phbase
</pre></div>
</div>
<p>After building, extract <code class="docutils literal"><span class="pre">target/geomesa-hbase-gs-plugin_2.11-$VERSION-install.tar.gz</span></code> into GeoServer&#8217;s
<code class="docutils literal"><span class="pre">WEB-INF/lib</span></code> directory. Note that this plugin contains a shaded JAR with HBase 1.1.5
bundled. If you require a different version, modify the <code class="docutils literal"><span class="pre">pom.xml</span></code> and rebuild following
the instructions above.</p>
<p>This distribution does not include the Hadoop or Zookeeper JARs; the following JARs
should be copied from the <code class="docutils literal"><span class="pre">lib</span></code> directory of your HBase or Hadoop installations into
GeoServer&#8217;s <code class="docutils literal"><span class="pre">WEB-INF/lib</span></code> directory:</p>
<blockquote>
<div><ul class="simple">
<li>hadoop-annotations-2.5.1.jar</li>
<li>hadoop-auth-2.5.1.jar</li>
<li>hadoop-common-2.5.1.jar</li>
<li>hadoop-mapreduce-client-core-2.5.1.jar</li>
<li>hadoop-yarn-api-2.5.1.jar</li>
<li>hadoop-yarn-common-2.5.1.jar</li>
<li>zookeeper-3.4.6.jar</li>
<li>commons-configuration-1.6.jar</li>
</ul>
</div></blockquote>
<p>(Note the versions may vary depending on your installation.)</p>
<p>The HBase data store requires the configuration file <code class="docutils literal"><span class="pre">hbase-site.xml</span></code> to be on the classpath. This can
be accomplished by placing the file in <code class="docutils literal"><span class="pre">geoserver/WEB-INF/classes</span></code> (you should make the directory if it
doesn&#8217;t exist).</p>
<p>Restart GeoServer after the JARs are installed.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bigtable.html" class="btn btn-neutral float-right" title="4.6. Installing GeoMesa Bigtable" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="kafka.html" class="btn btn-neutral" title="4.4. Installing GeoMesa Kafka" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013-2016 Commonwealth Computer Research, Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.3.0-m3-SNAPSHOT',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>